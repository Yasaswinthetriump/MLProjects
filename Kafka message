Subject: MDD Checker â€“ Kafka Message Contract and Integration Alignment

Hi Om,

Thanks for sharing the email template and topic details last week. As discussed, hereâ€™s the proposed Kafka message contract for the MDD Checker integration so we can ensure Minerva and MIDAS are aligned.


---

ðŸ”¹ Kafka Topic Details

Request Topic (from Minerva â†’ MDD Checker): mnrv.inventory.modelchecker

Consumer Group ID: mnrv-model-checker-CG1

Proposed Result Topic (from MDD Checker â†’ Minerva): mddchecker.result



---

ðŸ”¹ Request Message Schema (Minerva â†’ MDD Checker)

{
  "request_id": "string (UUID, generated by Minerva)",
  "correlation_id": "string (UUID, consistent across request & result)",
  "uploaded_by": "string (user email or service id)",
  "uploaded_date": "ISO8601 timestamp",
  "document_name": "string",
  "document_size": "integer (bytes)",
  "document_filetype": "string (pdf, docx, etc.)",
  "submitted_at": "ISO8601 timestamp"
}


---

ðŸ”¹ Result Message Schema (MDD Checker â†’ Minerva)

{
  "request_id": "string (UUID, matches request)",
  "correlation_id": "string (UUID, same as in request)",
  "status": "COMPLETED | FAILED",
  "validated_at": "ISO8601 timestamp",
  "results": [
    {
      "sector": "DATA | GOV | PERF | FAIR | ...",
      "rule_id": "string",
      "severity": "H | M | L",
      "status": "PASS | FAIL | WARN",
      "message": "string (short description)",
      "evidence_ref": "string (NAS path, table, or ID reference)"
    }
  ],
  "output": {
    "nas_path": "string (outbound XLS/JSON file path)",
    "email_sent": "boolean"
  }
}


---

ðŸ”¹ Notes

Mapping to your email template: uploadedBy, uploadedDate, documentName, documentSize, documentFiletype are directly carried into Kafka messages.

Traceability: request_id and correlation_id guarantee request/response correlation across systems.

Extensibility: results[] can be extended with new rule findings without breaking existing consumers.

Error handling: If validation fails, status = FAILED and results[] will contain failure details.



---

Please review and let me know if youâ€™d like any adjustments (field names, topic naming, or additional metadata). Once aligned, Iâ€™ll publish this contract to Confluence so both teams have a single reference.

Thanks,
Sri
